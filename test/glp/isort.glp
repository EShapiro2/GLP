% isort.glp - Sorting algorithms in GLP
%
% Multipl


% ===== INSERTION SORT =====
% Simple sorting by inserting elements one at a time

% insertion_sort(List?, Sorted)
insertion_sort([], []).
insertion_sort([X | Xs], Sorted?) :-
    insertion_sort(Xs?, SortedTail),
    insert(X?, SortedTail?, Sorted).

% insert(Elem?, SortedList?, Result)
% Insert element into sorted list maintaining order
insert(X, [], [X?]).
insert(X, [Y | Ys], [X?| [Y? | Ys?]]) :-
    X? < Y? |
    true.
insert(X, [Y | Ys], [Y? | Zs?]) :-
    X? >= Y? |
    insert(X?, Ys?, Zs).

run(true).
run((A, B)) :- run(A?), run(B?).
run(A) :- otherwise | clause(A?, B), run(B?).

clause(insertion_sort([], []),true).
clause(insertion_sort([X | Xs], Sorted?),(insertion_sort(Xs?, SortedTail), insert(X?, SortedTail?, Sorted))).
clause(insert(X, [], [X?]) , true).
clause(insert(X, [Y | Ys], [X?| [Y? | Ys?]]) ,true) :-  X? < Y? | true.
clause(insert(X, [Y | Ys], [Y? | Zs?]) , insert(X?, Ys?, Zs)) :-  X? >= Y? |  true.
