%% factorial.glp - Factorial in GLP
%% Source: Standard GLP arithmetic

factorial(0, 1).
factorial(1, 1).
factorial(N, F?) :-
    N? > 1 |
    N1 := N? - 1,
    factorial(N1?, F1),
    F := N? * F1?.

%% Metainterpreter support
reduce(factorial(0, 1), true).
reduce(factorial(1, 1), true).
reduce(factorial(N, F?), (N1 := N? - 1, factorial(N1?, F1), F := N? * F1?)) :- N? > 1 | true.
reduce((X? := T), true) :- X := T? | true.
