%% nth.glp - Nth Element of List
%% Source: Standard GLP list operations

nth(1, [X|_], X?).
nth(N, [_|Xs], X?) :- N? > 1 | N1 := N? - 1, nth(N1?, Xs?, X).

%% Metainterpreter support
reduce(nth(1, [X|_], X?), true).
reduce(nth(N, [_|Xs], X?), (N1 := N? - 1, nth(N1?, Xs?, X))) :- N? > 1 | true.
reduce((X? := T), true) :- X := T? | true.
