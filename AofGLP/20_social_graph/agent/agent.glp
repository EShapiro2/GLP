%% agent.glp - Social Graph Agent Initialization
%% Source: GLP Papers (Program: Social Graph Initialization)
%%
%% Each agent begins with goal agent(Id, ChUser, ChNet) where Id is the
%% agent's unique identifier, ChUser provides bidirectional communication
%% with the user interface, and ChNet connects to the network.

agent(Id, ChUser, ChNet) :-
    ChUser = ch(UserIn, UserOut), ChNet = ch(NetIn, NetOut) |
    merge(UserIn?, NetIn?, In),
    social_graph(Id?, In?, [(user, UserOut), (net, NetOut)]).

%% The initialization extracts input and output streams from user and network
%% channels, merges inputs into unified stream In, and stores output streams
%% in initial friends list with special identifiers "user" and "net".
