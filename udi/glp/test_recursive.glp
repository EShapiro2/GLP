% test_recursive.glp - Simpler test for recursive writer-reader pattern

% Simple wrapper that calls itself recursively
% Similar to run/clause pattern but simpler

% Base case: if Body is 'done', succeed
execute_rec(done).

% Recursive case: fetch next body, execute it recursively
execute_rec(step(N)) :- fetch_body(N, Next), execute_rec(Next?).

% Fetches the "next" body to execute
fetch_body(1, step(2)).
fetch_body(2, step(3)).
fetch_body(3, done).

% Test: Start the recursive chain
test_rec :- execute_rec(step(1)).
