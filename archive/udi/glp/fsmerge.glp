% fsmerge.glp - Fair stable merge
%
% fsmerge(Xs, Ys, Zs) :- Zs is a fair interleaving of Xs and Ys
% Alternates between streams by swapping arguments
% From Concurrent Prolog book (handout 9)

fsmerge([], [], []).
fsmerge([X|Xs], Ys, [X?|Zs?]) :- fsmerge(Ys?, Xs?, Zs).
fsmerge(Xs, [Y|Ys], [Y?|Zs?]) :- fsmerge(Ys?, Xs?, Zs).

% Test via REPL: fsmerge([a,b,c], [x,y,z], Zs).
